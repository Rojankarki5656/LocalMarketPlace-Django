{% extends 'localservices/base.html' %}
{% block content %}

    <!-- Registration Form -->
    <section class="py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="text-center mb-4">
                        <h2 class="fw-bold">Join ServiceHub</h2>
                        <p class="text-muted">Choose how you want to get started</p>
                    </div>

                    <!-- Account Type Selection -->
                    <div class="card border-0 shadow-sm mb-4">
                        <div class="card-body p-4">
                            <h5 class="fw-bold mb-3">I want to:</h5>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <input type="radio" class="btn-check" name="accountType" id="customer" value="customer" checked>
                                    <label class="btn btn-outline-primary w-100 h-100 d-flex flex-column align-items-center justify-content-center py-4" for="customer">
                                        <i class="bi bi-person fs-1 mb-3"></i>
                                        <h5 class="fw-bold">Book Services</h5>
                                        <p class="text-muted mb-0">Find and hire local professionals</p>
                                    </label>
                                </div>
                                <div class="col-md-6">
                                    <input type="radio" class="btn-check" name="accountType" id="provider" value="provider">
                                    <label class="btn btn-outline-success w-100 h-100 d-flex flex-column align-items-center justify-content-center py-4" for="provider">
                                        <i class="bi bi-tools fs-1 mb-3"></i>
                                        <h5 class="fw-bold">Offer Services</h5>
                                        <p class="text-muted mb-0">Grow your business with new customers</p>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Customer Registration Form -->
                    <div class="card border-0 shadow-sm" id="customerForm">
                        <div class="card-body p-4">
                            <h4 class="fw-bold mb-4">
                                <i class="bi bi-person me-2"></i>Customer Registration
                            </h4>
                            
                            <form method="POST">
                                {% csrf_token %}
                                <div class="row g-3 mb-3">
                                <input type="hidden" name="role" value="customer">
                                <div class="mb-3">
                                    <label for="username" class="form-label">Username</label>
                                    <input type="text" class="form-control form-control-lg" id="username" name="username" required>
                                </div>

                                    <div class="col-md-6">
                                        <label for="customerFirstName" class="form-label">First Name *</label>
                                        <input type="text" class="form-control" id="customerFirstName" name="first_name" required>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="customerLastName" class="form-label">Last Name *</label>
                                        <input type="text" class="form-control" id="customerLastName" name="last_name" required>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label for="customerEmail" class="form-label">Email Address *</label>
                                    <input type="email" class="form-control" id="customerEmail" name="email" required>
                                </div>

                                <div class="mb-3">
                                    <label for="customerPhone" class="form-label">Phone Number *</label>
                                    <input type="tel" class="form-control" id="customerPhone" name="phone" required>
                                </div>

                                <div class="row g-3 mb-3">
                                    <div class="col-md-6">
                                        <label for="customerPassword" class="form-label">Password *</label>
                                        <input type="password" class="form-control" id="customerPassword" name="password1" required>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="customerConfirmPassword" class="form-label">Confirm Password *</label>
                                        <input type="password" class="form-control" id="customerConfirmPassword" name="password2" required>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label for="customerAddress" class="form-label">Address</label>
                                    <input type="text" class="form-control" id="customerAddress" placeholder="Street Address" name="address">
                                </div>

                                <div class="row g-3 mb-4">
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" placeholder="City" name="city">
                                    </div>
                                    <div class="col-md-3">
                                        <select class="form-select" name="state">
                                            <option value="">State</option>
                                            <option value="CA">California</option>
                                            <option value="NY">New York</option>
                                            <option value="TX">Texas</option>
                                            <option value="FL">Florida</option>
                                        </select>
                                    </div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" placeholder="ZIP Code" name="zip_code">
                                    </div>
                                </div>

                                <div class="mb-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="customerTerms" required>
                                        <label class="form-check-label" for="customerTerms">
                                            I agree to the <a href="#" class="text-primary">Terms of Service</a> and <a href="#" class="text-primary">Privacy Policy</a> *
                                        </label>
                                    </div>
                                </div>

                                <div class="d-grid">
                                    <button type="submit" class="btn btn-primary btn-lg">Create Customer Account</button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Service Provider Registration Form -->
                    <div class="card border-0 shadow-sm d-none" id="providerForm">
                        <div class="card-body p-4">
                            <h4 class="fw-bold mb-4">
                                <i class="bi bi-tools me-2"></i>Service Provider Registration
                            </h4>
                            
                            <form method="POST">
                                {% csrf_token %}
                                <!-- Personal Information -->
                                <div class="mb-4">
                                    <h5 class="fw-bold text-success">Personal Information</h5>
                                    <hr>
                                </div>
                                <input type="hidden" name="role" value="provider">
                                <div class="mb-3">
                                    <label for="username" class="form-label">Username</label>
                                    <input type="text" class="form-control form-control-lg" id="username" name="username" required>
                                </div>
                                <div class="row g-3 mb-3">
                                    <div class="col-md-6">
                                        <label for="providerFirstName" class="form-label">First Name *</label>
                                        <input type="text" class="form-control" id="providerFirstName" name="first_name" required>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="providerLastName" class="form-label">Last Name *</label>
                                        <input type="text" class="form-control" id="providerLastName" name="last_name" required>
                                    </div>
                                </div>

                                <div class="row g-3 mb-3">
                                    <div class="col-md-6">
                                        <label for="providerEmail" class="form-label">Email Address *</label>
                                        <input type="email" class="form-control" id="providerEmail" name="email" required>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="providerPhone" class="form-label">Phone Number *</label>
                                        <input type="tel" class="form-control" id="providerPhone" name="phone" required>
                                    </div>
                                </div>

                                <div class="row g-3 mb-4">
                                    <div class="col-md-6">
                                        <label for="providerPassword" class="form-label">Password *</label>
                                        <input type="password" class="form-control" id="providerPassword" name="password1" required>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="providerConfirmPassword" class="form-label">Confirm Password *</label>
                                        <input type="password" class="form-control" id="providerConfirmPassword" name="password2" required>
                                    </div>
                                </div>

                                <!-- Business Information -->
                                <div class="mb-4">
                                    <h5 class="fw-bold text-success">Business Information</h5>
                                    <hr>
                                </div>

                                <div class="row g-3 mb-3">
                                    <div class="col-md-6">
                                        <label for="businessName" class="form-label">Business Name</label>
                                        <input type="text" class="form-control" id="businessName" name="business_name">
                                    </div>
                                    <div class="col-md-6">
                                        <label for="serviceCategory" class="form-label">Primary Service Category *</label>
                                        <select class="form-select" id="serviceCategory" name="category" required>
                                            <option value="">Select Category</option>
                                            <option value="plumbing">Plumbing</option>
                                            <option value="electrical">Electrical</option>
                                            <option value="cleaning">Cleaning</option>
                                            <option value="handyman">Handyman</option>
                                            <option value="landscaping">Landscaping</option>
                                            <option value="painting">Painting</option>
                                            <option value="automotive">Automotive</option>
                                            <option value="tech">Tech Support</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="row g-3 mb-3">
                                    <div class="col-md-6">
                                        <label for="experience" class="form-label">Years of Experience *</label>
                                        <select class="form-select" id="experience" name="experience" required>
                                            <option value="">Select Experience</option>
                                            <option value="1-2">1-2 years</option>
                                            <option value="3-5">3-5 years</option>
                                            <option value="6-10">6-10 years</option>
                                            <option value="11-15">11-15 years</option>
                                            <option value="15+">15+ years</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="hourlyRate" class="form-label">Hourly Rate ($) *</label>
                                        <input type="number" class="form-control" id="hourlyRate" min="25" max="200" name="hourly_rate" required>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label for="serviceArea" class="form-label">Service Area *</label>
                                    <input type="text" class="form-control" id="serviceArea" placeholder="e.g., Downtown, Westside, City-wide" name="service_area" required>
                                </div>

                                <div class="mb-3">
                                    <label for="businessDescription" class="form-label">Business Description *</label>
                                    <textarea class="form-control" id="businessDescription" rows="4" placeholder="Describe your services and experience..." name="business_description" required></textarea>
                                </div>

                                <div class="mb-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="backgroundCheck">
                                        <label class="form-check-label" for="backgroundCheck">
                                            I consent to a background check
                                        </label>
                                    </div>
                                </div>

                                <div class="mb-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="providerTerms" required>
                                        <label class="form-check-label" for="providerTerms">
                                            I agree to the <a href="#" class="text-primary">Terms of Service</a>, <a href="#" class="text-primary">Privacy Policy</a>, and <a href="#" class="text-primary">Service Provider Agreement</a> *
                                        </label>
                                    </div>
                                </div>

                                <div class="d-grid">
                                    <button type="submit" class="btn btn-success btn-lg">Create Provider Account</button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Already have account -->
                    <div class="text-center mt-4">
                        <p class="mb-0">Already have an account? <a href="login.html" class="text-primary text-decoration-none fw-bold">Sign in here</a></p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <script>
        // Toggle between customer and provider forms
        document.querySelectorAll('input[name="accountType"]').forEach(radio => {
            radio.addEventListener('change', function() {
                const customerForm = document.getElementById('customerForm');
                const providerForm = document.getElementById('providerForm');
                
                if (this.value === 'customer') {
                    customerForm.classList.remove('d-none');
                    providerForm.classList.add('d-none');
                } else {
                    customerForm.classList.add('d-none');
                    providerForm.classList.remove('d-none');
                }
            });
        });
    </script>
{% endblock content %}
